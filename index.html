<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="我的 TikTok Shop 推廣商店，展示優質產品與創作者內容！">
    <meta name="keywords" content="TikTok Shop, 產品推薦, affiliate, 創作者, forklift">
    <title>我的 TikTok Shop 推廣商店</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            text-align: center; 
            margin: 0; 
            padding: 20px; 
            background-color: #f0f0f0; 
        }
        h1 { color: #333; }
        .product { 
            margin: 20px; 
            padding: 20px; 
            background: white; 
            border-radius: 10px; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .image-gallery { 
            display: flex; 
            gap: 10px; 
            margin: 10px 0; 
            justify-content: center; 
        }
        .image-gallery img { 
            max-width: 30%; 
            height: auto; 
            transition: opacity 0.3s ease; 
        }
        .image-gallery img:hover { 
            opacity: 0.8; 
            cursor: pointer; 
        }
        .modal { 
            display: none; 
            position: fixed; 
            z-index: 1000; 
            left: 0; 
            top: 0; 
            width: 100%; 
            height: 100%; 
            background-color: rgba(0,0,0,0.8); 
            justify-content: center; 
            align-items: center; 
        }
        .modal-content { 
            max-width: 90%; 
            max-height: 90%; 
        }
        .close { 
            position: absolute; 
            top: 15px; 
            right: 35px; 
            color: white; 
            font-size: 40px; 
            cursor: pointer; 
        }
        .cta-button { 
            display: inline-block; 
            padding: 10px 20px; 
            background: #ff2d55; 
            color: white; 
            text-decoration: none; 
            border-radius: 5px; 
            transition: background 0.3s; 
        }
        .cta-button:hover { 
            background: #e60044; 
        }
        .construction { 
            color: #666; 
            font-style: italic; 
        }
        /* New Producer Styles */
        .producer-groups {
            display: grid;
            gap: 30px;
            margin: 40px 0;
        }
        .producer {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        .products {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        .product-card {
            border: 1px solid #eee;
            padding: 15px;
            border-radius: 8px;
        }
        /* Audio Player */
        #audioControls {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin: 20px auto;
            max-width: 400px;
        }
        @media (max-width: 600px) {
            .image-gallery img { max-width: 45%; }
            .products { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <h1>歡迎來到我的 TikTok Shop 商店！</h1>
    <p class="construction">基於保安問題，無法提供全部商品連結，請查看以下精選產品或加入 Telegram 群組！</p>

    <!-- ==================== Music Player ==================== -->
    <div id="audioControls">
        <audio id="backgroundMusic" loop>
            <source src="music/background.mp3" type="audio/mpeg">
            您的瀏覽器不支持背景音樂
        </audio>
        <button onclick="playMusic()">▶️ 播放音樂</button>
        <button onclick="pauseMusic()">⏸️ 暫停</button>
        <div style="margin-top:10px;">
            <span>音量: </span>
            <input type="range" min="0" max="1" step="0.1" value="0.5" 
                   oninput="adjustVolume(this.value)">
        </div>
    </div>

    <!-- ==================== Producer Groups ==================== -->
    <div class="producer-groups" id="producerContainer">
        <!-- Dynamically loaded -->
    </div>

    <!-- ==================== Existing Content ==================== -->
    <div class="product">
        <h2>二手插車待售 - Toyota 8FGCU25</h2>
        <div class="image-gallery">
            <img src="images/forklift-1.jpg" alt="Toyota 叉車" loading="lazy" onclick="openModal('images/forklift-1.jpg')">
            <img src="images/forklift-2.jpg" alt="Toyota 叉車側面" loading="lazy" onclick="openModal('images/forklift-2.jpg')">
        </div>
        <p>年份：2018 | 狀況：良好 | 價格：RM 15,000</p>
        <a href="https://wa.me/60196819069" class="cta-button">WhatsApp 詢問</a>
    </div>

    <!-- Modal -->
    <div id="imageModal" class="modal">
        <span class="close" onclick="closeModal()">×</span>
        <img class="modal-content" id="modalImage">
    </div>

    <footer>
        <p>© 2025 我的 TikTok Shop | <a href="https://t.me/+kGgttt3VJH4zZTRl">加入 Telegram 群組</a></p>
    </footer>

    <script>
        // ===== Music Player =====
        const audio = document.getElementById("backgroundMusic");
        let isAudioReady = false;

        audio.addEventListener('canplay', () => {
            isAudioReady = true;
            audio.volume = 0.5;
        });

        function playMusic() {
            if (!isAudioReady) {
                alert("請先點擊頁面任意處，再播放音樂");
                return;
            }
            audio.play().catch(e => {
                alert("請先點擊頁面任意處激活音頻");
            });
        }

        function pauseMusic() {
            audio.pause();
        }

        function adjustVolume(value) {
            audio.volume = value;
        }

        // Enable audio after any click
        document.addEventListener('click', () => {
            isAudioReady = true;
        }, { once: true });

        // ===== Producer Data =====
        const producers = [
            {
                name: "生產商 A",
                savings: "RM15",
                products: [
                    { 
                        name: "Huawei Watch FIT 3", 
                        desc: "42小時播放 | 輕巧設計", 
                        savings: "RM10", 
                        link: "https://t.me/+kGgttt3VJH4zZTRl" 
                    },
                    {
                        name: "智能掃地機器人",
                        desc: "自動回充 | 大吸力",
                        savings: "RM15",
                        link: "https://t.me/+kGgttt3VJH4zZTRl"
                    }
                    // Add 8 more products per producer
                ]
            },
            {
                name: "生產商 B",
                savings: "RM20",
                products: [
                    {
                        name: "Toyota 8FGCU25 叉車",
                        desc: "2018年 | 低使用時數",
                        savings: "RM18",
                        link: "https://wa.me/60196819069"
                    }
                    // Add 9 more products
                ]
            }
            // Add more producers
        ];

        function renderProducers() {
            const container = document.getElementById('producerContainer');
            
            producers.forEach(producer => {
                let productsHTML = '';
                producer.products.forEach(product => {
                    productsHTML += `
                        <div class="product-card">
                            <h4>${product.name}</h4>
                            <p>${product.desc}</p>
                            <p>節省: ${product.savings}</p>
                            <a href="${product.link}" class="cta-button">
                                ${product.link.includes('wa.me') ? 'WhatsApp 詢問' : '獲取連結'}
                            </a>
                        </div>
                    `;
                });

                container.innerHTML += `
                    <div class="producer">
                        <h3>🏭 ${producer.name} (節省 ${producer.savings} 運費)</h3>
                        <div class="products">${productsHTML}</div>
                    </div>
                `;
            });
        }

        // ===== Existing Functions =====
        function openModal(imageSrc) {
            document.getElementById("imageModal").style.display = "flex";
            document.getElementById("modalImage").src = imageSrc;
        }
        function closeModal() {
            document.getElementById("imageModal").style.display = "none";
        }

        // Initialize
        window.addEventListener('DOMContentLoaded', () => {
            renderProducers();
        });
    </script>
</body>
</html>